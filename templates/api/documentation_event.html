{% extends "api/documentation.html" %}
{% block pagetitle %}Документация. Получение событий.{% endblock pagetitle %}
{% block documentation %}
<h5>Получение событий</h5>
<p>Событие можно получить как по id: <code>{{ event_by_id_example }}</code>,<br/>
так и по его name: <code>{{ event_by_name_example }}</code></p>
<pre>
<b>Пример ответа:</b>
{
    "type": "event",
    "id": 29,
    "name": "uspenskiy_post",
    "tags": [
        "post"
    ],
    "smart_date": "14.08~27.08",
    "text": {
        "content": "content of event",
        "annonce": "annonce of event",
        "title": "title of event"
    },
    "image": "Ph4LnbLHNfs_3.jpg",
    "icons": [
        {
            "text": {
                "content": "content",
                "annonce": "annonce",
                "title": "title"
            },
            "image": "4J9TcNQjo_M.jpg",
            "type": "icon",
            "id": 377
        },
        {
            "text": {
                "content": "content",
                "annonce": "annonce",
                "title": "title"
            },
            "image": "fe70858c-420d-49c4-a955-97e9bf2cc10f.jpg",
            "type": "icon",
            "id": 380
        },
    ],
    "articles": [
        {
            "image": "",
            "type": "article",
            "id": 218
            "name": "post_dlya_tela"
        },
        {
            "image": "",
            "type": "article",
            "id": 225,
            "name": "vidy_postnyh_dnyay"
        },
    ]
}
</pre>
<div class="alert">
  <strong>Cледует обратить внимание!</strong>
  <ol>
    <li>Cекция "статьи" сокращенная - приводится лишь id, name, type, image</li>
    <li>Cекция "иконы" полная - приводится в том числе тексты</li>
    <li>Секции tags,articles,icons могут отсутствовать</li>
    <li>порядок полей ответа может быть иным</li>
  </ol>
</div>

<p>
    События можно получать по тегам: <code>{{ event_by_tag_example }}</code>. При этом список секций будет сокращенный
</p>
<pre>
<b>Пример ответа:</b>
[
    {
        "image": "image11.jpg",
        "type": "event",
        "id": 11,
        "name": "event11",
        "smart_date": "{}",
        "tags": [
            "tag1",
            "tag2"
        ]
    },
    {
        "image": "image12.jpg",
        "type": "event",
        "id": 12,
        "name": "event12",
        "smart_date": "{}",
        "tags": [
            "tag1",
            "tag3"
        ]
    }
]
</pre>

<p>
    Получение всех событий: <code>{{ event_all_example }}</code>. При этом список секций будет сокращенный
</p>
<pre>
<b>Пример ответа:</b>
[
    {
        "name": "pasha",
        "title": "Пасха",
        "image": "1323196997_738.jpg",
        "smart_date": "{Pascha}",
        "type": "event",
        "id": 7
    },
    {
        "name": "rozhdestvo_bogorodicy",
        "title": "Рождество Богородицы",
        "image": "1323338809_479.jpg",
        "smart_date": "21.09",
        "type": "event",
        "id": 8
    },
    {
        "name": "vozdvizhenie_kresta_gospodnya",
        "title": "Воздвижение Креста Господня",
        "image": "1323338914_961.jpg",
        "smart_date": "27.09",
        "type": "event",
        "id": 9
    },
    ...
]
</pre>

{% endblock documentation %}